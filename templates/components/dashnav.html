<script src="/static/js/utils/showToast.js"></script>
<script src="/static/js/utils/modal.js"></script>
<link rel="stylesheet" href="/static/css/components/dashnav.css" type="text/css">
<link rel="stylesheet" href="/static/css/tags/forms.css" type="text/css">
<body>
<nav>
    <ul>  
        <li><a href="/dashboard"> Dashboard </a></li>  
        <li><button class="create-event">Create Event</button>
        <li><a href="/auth/logout">Log Out</a></li>
    </ul>
</nav>


<main>
    <!-- generate toast for redirecting flashes -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <script>
                showToast("{{ message }}", "{{ category }}");
                </script>
            {% endfor %}
        {% endif %}
    {% endwith %}
                
    <dialog class="modal">
        <div class="form-container">
            <form class="modal-form" action="/events/create" method="post">
                <h1> Create Event </h1>
                <fieldset>

                    <label>
                        <input
                            name="name"
                            type="text"
                            placeholder="Enter Title"
                        />
                    </label>   

                    <label>
                        <input 
                            name="date"
                            type="text"
                            placeholder="Event Date"
                            onfocus="(this.type='date')"
                            onblur="(this.type='text')"
                        /> <!-- I struggled with showing the placeholder with type="date", so I found this solution
                                in 
                                https://stackoverflow.com/questions/20321202/not-showing-placeholder-for-input-type-date-field
                            -->
                    </label>

                    <label>
                        <input 
                            name="start_time"
                            type="text"
                            placeholder="Start Time"
                            onfocus="(this.type='time')"
                            onblur="(this.type='text')"
                        />
                    </label>

                    <label>
                        <input 
                            name="duration"
                            type="text"
                            placeholder="Duration"
                            onfocus="(this.type='time')"
                            onblur="(this.type='text')"
                        />
                    </label>

                    <label>
                        <input  
                            name="capacity"
                            type="text"
                            placeholder="Capacity"
                        />
                    </label>

                    <label>
                        <input  
                            name="location"
                            type="text"
                            placeholder="Location"
                        />
                    </label>   
                </fieldset>         

                <button class="submit" type="submit">Create</button>
                <button class="close-modal" type="button">Close</button>
            </form>
        </div>
    </dialog>

    <div class="modal-background"></div>




</main>